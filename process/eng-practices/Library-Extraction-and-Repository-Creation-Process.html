<html lang='en'>

<head>
  <meta charset='UTF-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1' />
  <title>
    Extracting New Libraries From Existing Repositories â€“ Adrestia Process Docs
  </title>
  
    
      <meta property='og:description' content />
      <meta property='og:site_name' content='Adrestia Process Docs' />
      <meta property='og:type' content='website' />
      <meta property='og:title' content='Extracting New Libraries From Existing Repositories' />
    
    
      <base href='/adrestia/process/' />
      <link href='static/favicon.png' rel='icon' />
    
    <link href='https://cdn.jsdelivr.net/npm/prismjs@1.25.0/themes/prism-tomorrow.css' rel='stylesheet' />
<script src='https://cdn.jsdelivr.net/combine/npm/prismjs@1.25.0/prism.min.js,npm/prismjs@1.25.0/plugins/autoloader/prism-autoloader.min.js'></script>

  
  <!-- CSSSTART -->
	<link rel="stylesheet" href="emanote-compiled-375f81ef4d19c80a4f65cf01bcb51174.css" />
  <!-- CSSEND -->

  <!-- Heist error element -->
  <style type='text/css'>
    strong.error {
      color: lightcoral;
      font-size: 90%;
      font-family: monospace;
    }
  </style>
  <!-- What goes in this file will appear on near the end of <head>--><link rel='preload' href='_emanote-static/fonts/Nunito/Nunito-Regular.ttf' as='font' type='font/ttf' crossorigin />
<link rel='preload' href='_emanote-static/fonts/Nunito/Nunito-ExtraBold.ttf' as='font' type='font/ttf' crossorigin />

<style>
  @font-face {
    font-family: 'Nunito';
    src: url('_emanote-static/fonts/Nunito/Nunito-Regular.ttf') format("truetype");
    font-display: swap;
  }

  @font-face {
    font-family: 'Nunito-Bold';
    src: url('_emanote-static/fonts/Nunito/Nunito-ExtraBold.ttf') format("truetype");
    font-display: swap;
  }

  body {
    font-family: 'Nunito', sans-serif;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  header,
  .header-font {
    font-family: 'Nunito-Bold', sans-serif;
  }
</style>

  <head-main></head-main>
</head>

<!-- DoNotFormat -->



<!-- DoNotFormat -->

<body class='bg-gray-400 overflow-y-scroll'>
  
    <div class='container mx-auto'>

      <nav id='breadcrumbs' class='w-full text-gray-700 md:hidden'>
  <div class='flex justify-left'>
    <div class='w-full px-2 py-2 bg-gray-50'>
      <ul class='flex flex-wrap text-lg'>
        <li class='inline-flex items-center'>
          
            
              <img style='width: 1rem;' src='static/favicon.png' />
            
          
        </li>
        
          
            <li class='inline-flex items-center'>
              <a class='px-1 font-bold' href=''>
                Adrestia Process Docs
              </a>
              <svg fill='currentColor' viewBox='0 0 20 20' class='w-auto h-5 text-gray-400'>
                <path fill-rule='evenodd' d='M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z' clip-rule='evenodd'></path>
              </svg>
            </li>
          
            <li class='inline-flex items-center'>
              <a class='px-1 font-bold' href='eng-practices'>
                Engineering Practices
              </a>
              <svg fill='currentColor' viewBox='0 0 20 20' class='w-auto h-5 text-gray-400'>
                <path fill-rule='evenodd' d='M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z' clip-rule='evenodd'></path>
              </svg>
            </li>
          
        
      </ul>
    </div>
    <button class='inline px-2 py-1 text-white bg-indigo-600 outline-none cursor-pointer focus:outline-none' title='Toggle sidebar' type='button' onclick="toggleHidden('sidebar')">
      <svg xmlns='http://www.w3.org/2000/svg' class='w-4' fill='none' viewBox='0 0 24 24' stroke='currentColor'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16'></path>
      </svg>
    </button>
    <script>
      function toggleHidden(elemId) {
        document.getElementById(elemId).classList.toggle("hidden");
      }
    </script>
  </div>
</nav>

      <div id='container' class='flex flex-nowrap flex-col md:flex-row bg-gray-50 md:mt-8 md:shadow-2xl md:mb-8'>
        <!-- Sidebar column -->
        <nav id='sidebar' class='flex-shrink hidden leading-relaxed md:block md:sticky md:top-0 md:h-full md:w-48 xl:w-64'>
          <div class='px-2 py-2 text-gray-800'>

            <div id='indexing-links' class='flex flex-row float-right p-2 space-x-2 text-gray-500'>
              <a href='-/tags' title='View tags'>
                <svg style='width: 1rem;' class='hover:text-indigo-700' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                  <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z'>
                  </path>
                </svg>
              </a>
              <a href='-/all' title='Expand full tree'>
                <svg style='width: 1rem;' class='hover:text-indigo-700' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                  <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4'>
                  </path>
                </svg>
              </a>
            </div>

            <div id='site-logo' class='pl-2'>
              <div class='flex items-center my-2 space-x-2 justify-left'>
                <a href='' title='Go to Home'>
                  
                    
                      <!-- The style width attribute here is to prevent huge
                      icon from displaying at those rare occasions when Tailwind
                      hasn't kicked in immediately on page load 
                      -->
                      <img style='width: 1rem;' class='transition transform hover:scale-110 hover:opacity-80' src='static/favicon.png' />
                    
                  
                </a>
                <a class='font-bold truncate' title='Go to Home' href=''>
                  Home
                </a>
              </div>
            </div>

            
              <!-- Variable bindings for this tree-->
  
    
      
      
    



  
  

<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg xmlns='http://www.w3.org/2000/svg' class='w-4 h-4 flex-shrink-0 inline text-gray-700' viewBox='0 0 20 20' fill='currentColor'>
        <path fill-rule='evenodd' d='M2 6a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1H8a3 3 0 00-3 3v1.5a1.5 1.5 0 01-3 0V6z' clip-rule='evenodd'></path>
        <path d='M6 12a2 2 0 012-2h8a2 2 0 012 2v2a2 2 0 01-2 2H2h2a2 2 0 002-2v-2z'></path>
      </svg>
      
  
    <a class='font-bold hover:underline truncate' title='Engineering Practices' href='eng-practices'>
      Engineering Practices
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
      <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='Development Process' href='eng-practices/Development-Process'>
      Development Process
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
      <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='Coding Standards' href='eng-practices/Coding-Standards'>
      Coding Standards
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
      <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='Code Review Guidelines' href='eng-practices/Code-Review-Guidelines'>
      Code Review Guidelines
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
      <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='Bug Classification' href='eng-practices/Bug-Classification'>
      Bug Classification
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
      <!-- Variable bindings for this tree-->
  
  


  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z'>
        </path>
      </svg>
      
  
    <a class='font-bold text-indigo-600 hover:underline truncate' title='Extracting New Libraries From Existing Repositories' href='eng-practices/Library-Extraction-and-Repository-Creation-Process'>
      Extracting New Libraries From Existing Repositories
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
      <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='New Repo Checklist' href='eng-practices/New-Repo-Checklist'>
      New Repo Checklist
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
  
</div>
            
              <!-- Variable bindings for this tree-->
  
    
      
      
    



  
  

<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg xmlns='http://www.w3.org/2000/svg' class='w-4 h-4 flex-shrink-0 inline text-gray-700' viewBox='0 0 20 20' fill='currentColor'>
        <path fill-rule='evenodd' d='M2 6a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1H8a3 3 0 00-3 3v1.5a1.5 1.5 0 01-3 0V6z' clip-rule='evenodd'></path>
        <path d='M6 12a2 2 0 012-2h8a2 2 0 012 2v2a2 2 0 01-2 2H2h2a2 2 0 002-2v-2z'></path>
      </svg>
      
  
    <a class='font-bold hover:underline truncate' title='Project Management' href='project-mgmt'>
      Project Management
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
      <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='Estimation Process' href='project-mgmt/Estimation-Process'>
      Estimation Process
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
      <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='Issue Tracking' href='project-mgmt/Issue-Tracking'>
      Issue Tracking
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
      <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='Meetings' href='project-mgmt/Meetings'>
      Meetings
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
  
</div>
            
              <!-- Variable bindings for this tree-->
  
    
      
      
    



  
  

<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg xmlns='http://www.w3.org/2000/svg' class='w-4 h-4 flex-shrink-0 inline text-gray-700' viewBox='0 0 20 20' fill='currentColor'>
        <path fill-rule='evenodd' d='M2 6a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1H8a3 3 0 00-3 3v1.5a1.5 1.5 0 01-3 0V6z' clip-rule='evenodd'></path>
        <path d='M6 12a2 2 0 012-2h8a2 2 0 012 2v2a2 2 0 01-2 2H2h2a2 2 0 002-2v-2z'></path>
      </svg>
      
  
    <a class='font-bold hover:underline truncate' title='Info' href='info'>
      Info
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
      <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='Onboarding' href='info/Onboarding'>
      Onboarding
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
      <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='Passwords' href='info/Passwords'>
      Passwords
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
      <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='Windows' href='info/Windows'>
      Windows
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
    
  
</div>
            
              <!-- Variable bindings for this tree-->
  
    
      
    
    



  


<!-- Rendering of this tree -->
<div class='pl-2'>
  <!-- Node's rootLabel-->
  <div class='flex items-center my-2 space-x-2 justify-left'>
    
    
      <svg class='w-4 h-4 flex-shrink-0 inline' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'>
        </path>
      </svg>
    
  
    <a class='hover:underline truncate' title='Documents in progress' href='todo'>
      Documents in progress
    </a>
    
      
  </div>

  <!-- Node's children forest, displayed only on active trees
    TODO: Use <details> to toggle visibility?
  -->
  
    
  
</div>
            

          </div>
        </nav>

        <!-- Main body column -->
        <div class='flex-1 w-full overflow-x-auto bg-white'>
          <main class='px-4 py-4'>
            <h1 class='flex items-end justify-center mb-4 p-3 bg-indigo-100 text-5xl font-extrabold text-black rounded'>
  <a class='z-40 tracking-tighter '>
    Extracting New Libraries From Existing Repositories
  </a>
</h1>
            <article class='overflow-auto'>
  <!-- What goes in this file will appear on top of note body-->
  <h2 id='introduction' class='inline-block mt-6 mb-4 text-4xl font-bold text-gray-700 border-b-2'>Introduction</h2>
    <p class='mb-3'>
      This article documents the process that we used to create the <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>cardano-coin-selection</code> repository.
    </p>
  <h2 id='contents' class='inline-block mt-6 mb-4 text-4xl font-bold text-gray-700 border-b-2'>Contents</h2>
    <ul class='my-3 ml-6 space-y-1 list-disc'>
      
        <li>
          <a href='#overview' class='text-indigo-600 font-bold hover:underline'>Overview</a>
        </li>
      
        <li>
          <a href='#background' class='text-indigo-600 font-bold hover:underline'>Background</a>
        </li>
      
        <li>
          <a href='#process' class='text-indigo-600 font-bold hover:underline'>Process</a>
    <ul class='my-3 ml-6 space-y-1 list-disc'>
      
        <li>
          <a href='#step-1-clone-source-repository' class='text-indigo-600 font-bold hover:underline'>Step 1: Clone Source Repository</a>
        </li>
      
        <li>
          <a href='#step-2-remove-irrelevant-files' class='text-indigo-600 font-bold hover:underline'>Step 2: Remove Irrelevant Files</a>
        </li>
      
        <li>
          <a href='#step-3-identify-content-ancestors' class='text-indigo-600 font-bold hover:underline'>Step 3: Identify Content Ancestors</a>
        </li>
      
        <li>
          <a href='#step-4-filter-commit-history' class='text-indigo-600 font-bold hover:underline'>Step 4: Filter Commit History</a>
        </li>
      
        <li>
          <a href='#step-5-verify-commit-history' class='text-indigo-600 font-bold hover:underline'>Step 5: Verify Commit History</a>
        </li>
      
        <li>
          <a href='#step-6-push-to-github' class='text-indigo-600 font-bold hover:underline'>Step 6: Push to GitHub</a>
        </li>
      
    </ul>
  
        </li>
      
    </ul>
  <h2 id='overview' class='inline-block mt-6 mb-4 text-4xl font-bold text-gray-700 border-b-2'>Overview</h2>
    <p class='mb-3'>
      The <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>cardano-coin-selection</code> repository was created by taking a clone of the pre-existing <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>cardano-wallet</code> repository and <em>filtering out</em> a <em>relevant subset</em> of the version control history.
    </p>
  
    <p class='mb-3'>
      This article provides a record of the steps we used to perform this operation.
    </p>
  <h2 id='background' class='inline-block mt-6 mb-4 text-4xl font-bold text-gray-700 border-b-2'>Background</h2>
    <p class='mb-3'>
      Filtering the version control history of a repository is non-trivial.
    </p>
  
    <p class='mb-3'>
      One issue is that files in a repository are often renamed several times over the course of their history, and other files are composed of content from multiple ancestor files.
    </p>
  
    <p class='mb-3'>
      Assuming that weâ€™d like to generate a <em>new</em> repository from a <em>subset</em> of the files in some source repository, we have to find a way to retain the history of not just the subset of files that weâ€™re interested in, but <em>also</em> the histories of all files that served as <em>content ancestors</em> for that subset of files.
    </p>
  
    <p class='mb-3'>
      If we just naively filter for commits that affect the subset of files weâ€™re interested in, we run the risk of losing those commits that affect older versions of files that existed at different paths.
    </p>
  
    <p class='mb-3'>
      In general, weâ€™d like to keep commits for both:
    </p>
  
    <ul class='my-3 ml-6 space-y-1 list-disc'>
      
        <li>
          all files of interest; and
        </li>
      
        <li>
          all ancestors of files that are of interest.
        </li>
      
    </ul>
  <h3 id='example' class='mt-6 mb-2 text-3xl font-bold text-gray-700'>Example</h3>
    <p class='mb-3'>
      For example, suppose that the module <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>Cardano.Wallet.Primitive.Types</code> includes content from files that once existed at the following paths:
    </p>
  
    <ul class='my-3 ml-6 space-y-1 list-disc'>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>lib/core/src/Cardano/Wallet/Types.hs</code>
        </li>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>lib/core/src/Cardano/Wallet/Primitive/Types.hs</code>
        </li>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/Cardano/Wallet/Primitive.hs</code>
        </li>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/Cardano/Wallet/Primitive/Types.hs</code>
        </li>
      
    </ul>
  
    <p class='mb-3'>
      Weâ€™d ideally like to keep commits relating to all of those paths.
    </p>
  <h2 id='process' class='inline-block mt-6 mb-4 text-4xl font-bold text-gray-700 border-b-2'>Process</h2>
    <p class='mb-3'>
      Here is a record of the steps we used to create the <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>cardano-coin-selection</code> repository.
    </p>
  <h3 id='step-1-clone-source-repository' class='mt-6 mb-2 text-3xl font-bold text-gray-700'>Step 1: Clone Source Repository</h3>
    <p class='mb-3'>
      We start with a fresh clone of the source repository (in our case, the <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>cardano-wallet</code> repository).
    </p>
  <h3 id='step-2-remove-irrelevant-files' class='mt-6 mb-2 text-3xl font-bold text-gray-700'>Step 2: Remove Irrelevant Files</h3>
    <p class='mb-3'>
      In this step, we identify the files that we want to keep, and remove all files that are irrelevant.
    </p>
  
    <p class='mb-3'>
      To achieve this, we make a <em>single commit</em> to the <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>master</code> branch that removes all unwanted files from the repository. The result of applying this commit should be precisely the set of files we want to keep.
    </p>
  
    <p class='mb-3'>
      Note that in the case of Haskell modules, we need to be somewhat careful, and avoid deleting any modules that define functions imported by the modules we want to keep. To avoid deleting too much, we need to determine the <em>transitive closure</em> of module dependencies required by the modules that weâ€™re interested in.
    </p>
  
    <p class='mb-3'>
      A safe way to achieve this is to <em>iteratively</em> remove files that weâ€™re not interested in, while confirming that it is still possible to build the remaining subset, repeating the process until all unwanted files are deleted.
    </p>
  <h4 id='example-1' class='mt-6 mb-2 text-2xl font-bold text-gray-700'>Example</h4>
    <p class='mb-3'>
      Suppose that we want to keep file <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/ImportantModule.hs</code>, but that it imports functions defined in the following modules:
    </p>
  
    <ul class='my-3 ml-6 space-y-1 list-disc'>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/Wibble.hs</code>
        </li>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/Wobble.hs</code>
        </li>
      
    </ul>
  
    <p class='mb-3'>
      Furthermore, suppose that <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/Wibble.hs</code> imports functions from the following modules:
    </p>
  
    <ul class='my-3 ml-6 space-y-1 list-disc'>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/Foo.hs</code>
        </li>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/Bar.hs</code>
        </li>
      
    </ul>
  
    <p class='mb-3'>
      If we wish to keep <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/ImportantModule.hs</code>, we should therefore also keep:
    </p>
  
    <ul class='my-3 ml-6 space-y-1 list-disc'>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/Wibble.hs</code>
        </li>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/Wobble.hs</code>
        </li>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/Foo.hs</code>
        </li>
      
        <li>
          <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>src/Bar.hs</code>
        </li>
      
    </ul>
  <h3 id='step-3-identify-content-ancestors' class='mt-6 mb-2 text-3xl font-bold text-gray-700'>Step 3: Identify Content Ancestors</h3>
    <p class='mb-3'>
      In this step, we identify the historic ancestors of all files that we want to keep.
    </p>
  
    <p class='mb-3'>
      We generate a list of path names for <em>all current files</em>, as well as path names for <em>all historical ancestor files</em>, using the following script:
    </p>
  
    <p class='mb-3'>
      <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>find-paths.sh</code>:
    </p>
  <div class='py-0.5 mb-3 text-sm'><pre><code class='bash language-bash'>#!/usr/bin/env bash
git ls-tree -r master --name-only | while read -r file; do
    git log --follow --name-status -- "$file" \
        | awk '/^R[0-9]+/ { print $2; print $3 } {}'
done | sort -u</code></pre></div>
    <p class='mb-3'>
      Run the script from the root of the repository, as follows:
    </p>
  <div class='py-0.5 mb-3 text-sm'><pre><code class='shell-session language-shell-session'>$ find-paths.sh &gt; files-to-keep</code></pre></div><h3 id='step-4-filter-commit-history' class='mt-6 mb-2 text-3xl font-bold text-gray-700'>Step 4: Filter Commit History</h3>
    <p class='mb-3'>
      In this step, we <em>filter</em> the version control history, removing all commits that are unrelated to the list of files identified in the previous step.
    </p>
  
    <p class='mb-3'>
      Run the following command, using the <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>git-filter-repo</code> tool:
    </p>
  <div class='py-0.5 mb-3 text-sm'><pre><code class='shell-session language-shell-session'>$ git filter-repo --paths-from-file files-to-keep</code></pre></div><h3 id='step-5-verify-commit-history' class='mt-6 mb-2 text-3xl font-bold text-gray-700'>Step 5: Verify Commit History</h3>
    <p class='mb-3'>
      In this step, we verify that we have retained all relevant parts of the history.
    </p>
  
    <p class='mb-3'>
      Re-run the <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>find-paths</code> script from the root of the repository, as follows:
    </p>
  <div class='py-0.5 mb-3 text-sm'><pre><code class='shell-session language-shell-session'>$ find-paths.sh &gt; files-kept</code></pre></div>
    <p class='mb-3'>
      The content of <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>files-kept</code> should be <strong>identical</strong> to <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>files-to-keep</code>.
    </p>
  <h3 id='step-6-push-to-github' class='mt-6 mb-2 text-3xl font-bold text-gray-700'>Step 6: Push to GitHub</h3>
    <p class='mb-3'>
      First follow the <a href='eng-practices/New-Repo-Checklist' class='text-indigo-600 font-bold hover:underline' data-wikilink-type='WikiLinkNormal'>New Repo Checklist</a> to create a repo on GitHub. Then:
    </p>
  <div class='py-0.5 mb-3 text-sm'><pre><code class='shell-session language-shell-session'>$ git remote set-url origin git@github.com:input-output-hk/newrepo.git
$ git push --force -u origin master</code></pre></div>
  <!-- What goes in this file will appear below the note body-->
</article>
            <div class='flex flex-col lg:flex-row lg:space-x-2'>
              
              
  <div class='flex-1 p-4 mt-8 bg-gray-100 rounded'>
    <header class='mb-2 text-xl font-semibold text-gray-500'>Links to this page</header>
    <ul class='space-y-1'>
      
        <li>
          <a class='text-indigo-600 font-bold hover:bg-indigo-50' href='eng-practices/New-Repo-Checklist'>
            New Repo Checklist
          </a>
          
            <div class='mb-4 overflow-auto text-sm text-gray-500'>
  
    <div class='pl-2 mt-2 border-l-2 border-indigo-200 hover:border-indigo-500'>
      <div><p>If this repo is splitting off an existing repo, see <a href='eng-practices/Library-Extraction-and-Repository-Creation-Process' class='text-gray-600 font-bold hover:bg-gray-50' data-wikilink-type='WikiLinkNormal'>Extracting New Libraries From Existing Repositories</a>.</p></div>
    </div>
  
</div>
          
        </li>
      
    </ul>
  </div>

            </div>
            
  <section class='flex flex-wrap items-end justify-center my-4 space-x-2 space-y-2 font-mono text-sm'>
    
  </section>

            <!-- What goes in this file will at the very end of the main div -->
          </main>
        </div>
      </div>
      <footer class='flex items-center justify-center mt-2 mb-8 space-x-4 text-center text-gray-800'>
  
  <div>
    <a href='' title='Go to Home page'>
      <svg xmlns='http://www.w3.org/2000/svg' class='w-5 h-5 hover:text-indigo-700' fill='none' viewBox='0 0 24 24' stroke='currentColor'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6'></path>
      </svg>
    </a>
  </div>
  <div>
    <a href='-/all' title='View Index'>
      <svg class='w-5 h-5 hover:text-indigo-700' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4'>
        </path>
      </svg>
    </a>
  </div>
  <div>
    <a href='https://note.ema.srid.ca' target='_blank' title='Generated by Emanote 0.3.12.1'>
      <img class='w-5 h-5 hover:text-indigo-700' src='_emanote-static/emanote-logo.svg' />
    </a>
  </div>
  <div>
    <a href='-/tags' title='View tags'>
      <svg class='w-5 h-5 hover:text-indigo-700' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z'>
        </path>
      </svg>
    </a>
  </div>
  <div>
    <a href='-/tasks' title='View tasks'>
      <svg xmlns='http://www.w3.org/2000/svg' class='w-5 h-5 hover:text-indigo-700' fill='none' viewBox='0 0 24 24' stroke='currentColor'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z'></path>
      </svg>
    </a>
  </div>
</footer>
    </div>
  
</body>

</html>